<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mispacio | Daily Tote Classic</title>
  <link rel="stylesheet" href="../style.css" />
</head>

<body class="product-page-body">

  <!-- NAVBAR -->
  <header class="navbar">
    <div class="nav-container">
      <a href="../index.html" class="logo">
        <img src="../images/logo.png" alt="Mispacio Logo" />
      </a>

      <nav class="nav-links">
        <a href="../index.html">Home</a>
        <a href="../daily/">Daily</a>
        <a href="../index.html#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- PRODUCT DETAILS SECTION -->
  <section class="product-detail-page">

    <div class="product-detail-card">

      <!-- IMAGE SLIDER -->
      <div class="apple-img-wrap swipe-area" data-product="1">
        <div class="slider" id="slider1">
          <img src="../images/daily1-1.png" alt="Daily Tote Classic">
          <img src="../images/daily1-2.png" alt="Daily Tote Classic">
          <img src="../images/daily1-3.png" alt="Daily Tote Classic">
        </div>
      </div>

      <!-- DOTS -->
      <div class="apple-dots" id="dots1">
        <span class="dot active" onclick="slideTo(1,0)"></span>
        <span class="dot" onclick="slideTo(1,1)"></span>
        <span class="dot" onclick="slideTo(1,2)"></span>
      </div>

      <!-- PRODUCT TITLE -->
      <h1 class="detail-title">Daily Tote Classic</h1>
      <p class="detail-subtitle">
        A premium everyday tote designed for shopping, work, and travel.
      </p>

      <!-- PRICE -->
      <p class="detail-price">₹249</p>

      <!-- SPECS -->
      <div class="detail-specs">
        <h3>Specifications</h3>
        <ul>
          <li><b>Weight Capacity:</b> Up to 10kg</li>
          <li><b>Dimensions:</b> 14 x 16 inches</li>
          <li><b>Fabric:</b> Premium Cotton Canvas</li>
          <li><b>Handle Type:</b> Reinforced stitched straps</li>
          <li><b>Usage:</b> Grocery, Office, College, Travel</li>
          <li><b>Wash Care:</b> Hand wash recommended</li>
        </ul>
      </div>

      <!-- BUTTON -->
      <a href="#" class="detail-buy-btn">Buy Now</a>

    </div>

  </section>

  <!-- SCRIPT -->
  <script>
  let currentIndex = { 1: 0 };
  let modalIndex = 0;
  let zoomLevel = 1;

  function updateDots(productNum) {
    const dots = document.querySelectorAll(`#dots${productNum} .dot`);
    dots.forEach(dot => dot.classList.remove("active"));
    dots[currentIndex[productNum]].classList.add("active");
  }

  function slideTo(productNum, index) {
    const slider = document.getElementById("slider" + productNum);
    currentIndex[productNum] = index;
    slider.style.transform = `translateX(-${index * 100}%)`;
    updateDots(productNum);
  }

  // -----------------------------
  // MODAL OPEN / CLOSE
  // -----------------------------
  function openModal(index) {
    modalIndex = index;
    document.getElementById("imageModal").classList.add("active");
    updateModalSlider();
  }

  function closeModal() {
    document.getElementById("imageModal").classList.remove("active");
    resetZoom();
  }

  function updateModalSlider() {
    const modalSlider = document.getElementById("modalSlider");
    modalSlider.style.transform = `translateX(-${modalIndex * 100}%)`;
    resetZoom();
  }

  // -----------------------------
  // ZOOM FUNCTIONS
  // -----------------------------
  function resetZoom() {
    zoomLevel = 1;
    document.querySelectorAll(".modal-slider img").forEach(img => {
      img.style.transform = "scale(1)";
      img.style.cursor = "zoom-in";
    });
  }

  function toggleZoom(img) {
    if (zoomLevel === 1) {
      zoomLevel = 2;
      img.style.transform = "scale(2)";
      img.style.cursor = "zoom-out";
    } else {
      zoomLevel = 1;
      img.style.transform = "scale(1)";
      img.style.cursor = "zoom-in";
    }
  }

  // -----------------------------
  // CLICK IMAGE TO OPEN MODAL
  // -----------------------------
  document.querySelectorAll("#slider1 img").forEach((img, index) => {
    img.addEventListener("click", () => {
      openModal(index);
    });
  });

  // -----------------------------
  // MODAL IMAGE CLICK ZOOM
  // -----------------------------
  document.querySelectorAll(".modal-slider img").forEach(img => {
    img.addEventListener("click", () => toggleZoom(img));
  });

  // -----------------------------
  // SWIPE FEATURE (NORMAL SLIDER)
  // -----------------------------
  document.querySelectorAll(".swipe-area").forEach(area => {
    let startX = 0;
    let endX = 0;

    const productNum = area.getAttribute("data-product");
    const slider = document.getElementById("slider" + productNum);

    area.addEventListener("touchstart", (e) => {
      startX = e.touches[0].clientX;
    });

    area.addEventListener("touchend", (e) => {
      endX = e.changedTouches[0].clientX;

      let diff = startX - endX;

      if (diff > 50) {
        if (currentIndex[productNum] < 2) {
          currentIndex[productNum]++;
          slider.style.transform = `translateX(-${currentIndex[productNum] * 100}%)`;
          updateDots(productNum);
        }
      } else if (diff < -50) {
        if (currentIndex[productNum] > 0) {
          currentIndex[productNum]--;
          slider.style.transform = `translateX(-${currentIndex[productNum] * 100}%)`;
          updateDots(productNum);
        }
      }
    });
  });

  // -----------------------------
  // SWIPE FEATURE (MODAL SLIDER)
  // -----------------------------
  const modalWrap = document.querySelector(".modal-slider-wrap");
  let modalStartX = 0;
  let modalEndX = 0;

  modalWrap.addEventListener("touchstart", (e) => {
    modalStartX = e.touches[0].clientX;
  });

  modalWrap.addEventListener("touchend", (e) => {
    modalEndX = e.changedTouches[0].clientX;

    let diff = modalStartX - modalEndX;

    if (diff > 50 && modalIndex < 2) {
      modalIndex++;
      updateModalSlider();
    } 
    else if (diff < -50 && modalIndex > 0) {
      modalIndex--;
      updateModalSlider();
    }
  });

  // -----------------------------
  // ESC CLOSE MODAL
  // -----------------------------
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeModal();
  });
</script>

<!-- FULLSCREEN IMAGE VIEWER -->
<div id="imageModal" class="image-modal">
  <span class="close-modal" onclick="closeModal()">✕</span>

  <div class="modal-slider-wrap">
    <div class="modal-slider" id="modalSlider">
      <img src="../images/daily1-1.png" alt="Daily Tote">
      <img src="../images/daily1-2.png" alt="Daily Tote">
      <img src="../images/daily1-3.png" alt="Daily Tote">
    </div>
  </div>
</div>

</body>
</html>
